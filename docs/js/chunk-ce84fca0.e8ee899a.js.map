{"version":3,"sources":["webpack:///./src/views/TableGenerator.vue?a5a0","webpack:///./src/components/tableGenerator/MainContent/TableCard.vue","webpack:///./src/components/tableGenerator/MainContent/Index.vue?39fa","webpack:///src/components/tableGenerator/MainContent/TableCard.vue","webpack:///./src/components/tableGenerator/MainContent/TableCard.vue?79e3","webpack:///./src/components/tableGenerator/MainContent/SortDeleteFormItemDialog.vue?f8d0","webpack:///src/components/tableGenerator/MainContent/SortDeleteFormItemDialog.vue","webpack:///./src/components/tableGenerator/MainContent/SortDeleteFormItemDialog.vue?7e58","webpack:///./src/components/tableGenerator/MainContent/SortDeleteFormItemDialog.vue","webpack:///./src/components/tableGenerator/MainContent/SortDeleteTableColumnDialog.vue?6e88","webpack:///src/components/tableGenerator/MainContent/SortDeleteTableColumnDialog.vue","webpack:///./src/components/tableGenerator/MainContent/SortDeleteTableColumnDialog.vue?ff69","webpack:///./src/components/tableGenerator/MainContent/SortDeleteTableColumnDialog.vue","webpack:///src/components/tableGenerator/MainContent/Index.vue","webpack:///./src/components/tableGenerator/MainContent/Index.vue?7c90","webpack:///./src/components/tableGenerator/MainContent/Index.vue","webpack:///src/views/TableGenerator.vue","webpack:///./src/views/TableGenerator.vue?9bef","webpack:///./src/views/TableGenerator.vue","webpack:///./src/views/TableGenerator.vue?866d","webpack:///./src/components/tableGenerator/MainContent/SortDeleteFormItemDialog.vue?da60","webpack:///./src/components/tableGenerator/MainContent/TableCard.vue?1e59","webpack:///./src/components/tableGenerator/MainContent/SortDeleteTableColumnDialog.vue?efe5","webpack:///./src/components/tableGenerator/MainContent/Index.vue?62c6","webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/utils/tableGenerator.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","addComponent","ref","attrs","drawingList","formProps","changeFormProps","setActiveComponent","activeComponent","tableColumnProps","staticRenderFns","$event","$router","push","_v","sortDeleteCommand","slot","upDownCommand","copyCommand","clearCommand","_b","normalSchema","normalUiSchema","advanceSchema","advanceUiSchema","model","value","callback","$$v","formModel","expression","tableList","staticStyle","changeFile","formItemVisible","normalList","advanceList","setDefaultComponent","tableColumnVisible","setDefaultComponentByTableColumn","components","props","type","Array","default","Object","data","schema","uiSchema","tableData","mounted","document","watch","deep","handler","initSchema","methods","clear","bindFindComponent","thNode","findObject","alreadyItem","classList","remove","findObj","add","array","length","$emit","selectItem","forEach","properties","key","title","optionKeys","oKey","split","item","getTableSchemaInfo","tableSchema","tableUiSchema","renderProTable","component","innerVisible","onEnd","_l","index","_s","deleteItem","visible","Boolean","computed","get","set","val","list","splice","hasClass","target","from","includes","TableCard","SortDeleteFormItemDialog","SortDeleteTableColumnDialog","inject","generatorType","normalFormModel","advanceFormModel","copyType","querySelector","addEventListener","text","message","codeStr","clipboard","initNormalSchema","initAdvanceSchema","lock","spinner","background","setTimeout","loading","close","required","lcComponentName","assign","$nextTick","processUiSchemaKey","keys","uiOptions","targetKey","appendKeyInfo","operType","fatherClass","labelDom","setAttribute","labelNode","getAttribute","event","setActiveComponentClass","name","msg","$confirm","generateCode","generateType","getElementById","click","downloadCode","LeftSide","RightSide","MainContent","provide","$refs","mainCotent","$export","ownKeys","toIObject","gOPD","createProperty","S","getOwnPropertyDescriptors","object","desc","O","getDesc","f","result","i","undefined","gOPN","gOPS","anObject","Reflect","module","exports","it","getSymbols","concat","_defineProperty","obj","defineProperty","enumerable","configurable","writable","getStyle","getFormSchemaFromData","formUiSchema","requiredList","componentsObject","inputComponents","selectComponents","reduce","res","newKey","getTableSchemaFromData","getScriptByVueFile","p","replace","scriptStr","match","jsCodeStr","jsCode","eval","getDomProps","formStr","shift","formFormProps","trim","console","log","kv","formatUiSchema","JSON","stringify","RegExp","Function","toString","source","substring","sources","getFormJson","JsBeautify","js","getTableJson","getScript","jsonStr","tableStr","getTemplate","propList","join","generatVueCode","code","html","importVueFile","targer","Promise","resolve","reject","reader","FileReader","files","readAsText","onload","e","Error"],"mappings":"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","file":"js/chunk-ce84fca0.e8ee899a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rootContainer\"},[_c('left-side',{on:{\"add\":_vm.addComponent}}),_c('main-content',{ref:\"mainCotent\",attrs:{\"drawingList\":_vm.drawingList,\"formProps\":_vm.formProps},on:{\"changeFormProps\":_vm.changeFormProps,\"setActiveComponent\":_vm.setActiveComponent}}),_c('right-side',{attrs:{\"formProps\":_vm.formProps,\"activeComponent\":_vm.activeComponent,\"tableColumnProps\":_vm.tableColumnProps}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render, staticRenderFns\nimport script from \"./TableCard.vue?vue&type=script&lang=js&\"\nexport * from \"./TableCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TableCard.vue?vue&type=style&index=0&id=556e86a9&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"556e86a9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainContentContainer\"},[_c('div',{staticClass:\"topArea\"},[_c('div',{staticClass:\"leftArea\"},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-notebook-2\"},on:{\"click\":function($event){return _vm.$router.push('/')}}},[_vm._v(\"前往表单设计器\")])],1),_c('div',{staticClass:\"rightArea\"},[_c('el-dropdown',{on:{\"command\":_vm.sortDeleteCommand}},[_c('el-button',{staticClass:\"commonBtn\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-s-operation\"}},[_vm._v(\"排序&删除\")]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"formItem\"}},[_vm._v(\"表单\")]),_c('el-dropdown-item',{attrs:{\"command\":\"tableColumn\"}},[_vm._v(\"表格\")])],1)],1),_c('el-dropdown',{on:{\"command\":_vm.upDownCommand}},[_c('el-button',{staticClass:\"commonBtn\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-sort\"}},[_vm._v(\"上传/下载Vue文件\")]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"uplaod\"}},[_vm._v(\"上传Vue文件\")]),_c('el-dropdown-item',{attrs:{\"command\":\"download\"}},[_vm._v(\"下载Vue文件\")])],1)],1),_c('el-dropdown',{on:{\"command\":_vm.copyCommand}},[_c('el-button',{staticClass:\"commonBtn\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-document-copy\"}},[_vm._v(\"复制\")]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"all\"}},[_vm._v(\"复制完整代码\")]),_c('el-dropdown-item',{attrs:{\"command\":\"form\"}},[_vm._v(\"复制表单Json代码\")]),_c('el-dropdown-item',{attrs:{\"command\":\"table\"}},[_vm._v(\"复制表格Json代码\")])],1)],1),_c('el-dropdown',{on:{\"command\":_vm.clearCommand}},[_c('el-button',{staticClass:\"commonBtn\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"}},[_vm._v(\"清空\")]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"all\"}},[_vm._v(\"清空所有\")]),_c('el-dropdown-item',{attrs:{\"command\":\"normal\"}},[_vm._v(\"清空普通搜索\")]),_c('el-dropdown-item',{attrs:{\"command\":\"advance\"}},[_vm._v(\"清空高级搜索\")]),_c('el-dropdown-item',{attrs:{\"command\":\"table\"}},[_vm._v(\"清空表格\")])],1)],1)],1)]),_c('el-scrollbar',{staticClass:\"scrollBar\",attrs:{\"vertical\":true}},[_c('el-card',{staticClass:\"drawingBoard\",attrs:{\"shadow\":\"never\",\"header\":'搜索条件'}},[_c('el-query-filter',_vm._b({attrs:{\"normal-schema\":_vm.normalSchema,\"normal-ui-schema\":_vm.normalUiSchema,\"advance-schema\":_vm.advanceSchema,\"advance-ui-schema\":_vm.advanceUiSchema},model:{value:(_vm.formModel),callback:function ($$v) {_vm.formModel=$$v},expression:\"formModel\"}},'el-query-filter',_vm.formProps,false))],1),_c('table-card',{ref:\"tableCard\",attrs:{\"tableList\":_vm.tableList},on:{\"setActiveComponent\":_vm.setActiveComponent}})],1),_c('input',{attrs:{\"id\":\"copyNode\",\"type\":\"hidden\"}}),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\".vue\",\"id\":\"uploader\"},on:{\"change\":_vm.changeFile}}),_c('sort-delete-form-item-dialog',{attrs:{\"visible\":_vm.formItemVisible,\"normalList\":_vm.normalList,\"advanceList\":_vm.advanceList},on:{\"update:visible\":function($event){_vm.formItemVisible=$event},\"delete\":_vm.setDefaultComponent,\"draggerEnd\":_vm.setDefaultComponent}}),_c('sort-delete-table-column-dialog',{attrs:{\"visible\":_vm.tableColumnVisible,\"list\":_vm.tableList},on:{\"update:visible\":function($event){_vm.tableColumnVisible=$event},\"delete\":_vm.setDefaultComponentByTableColumn}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n<script>\r\n// import cloneDeep from 'lodash/cloneDeep';\r\n// import TableColumnDialog from './TableColumnDialog.vue';\r\n// import {\r\n//   // oneOfTureFalse,\r\n//   tableColumnProps,\r\n// } from '@/components/formGenerator/components';\r\n// import ClipboardJS from 'clipboard';\r\n// import { saveAs } from 'file-saver';\r\n// import SortDeleteDialog from './SortDeleteDialog.vue';\r\n// import {\r\n//   generatVueCode,\r\n//   getDataJson,\r\n//   importVueFile,\r\n// } from '@/utils/formGenerator';\r\n// import { saveIdGlobal } from '@/utils/db';\r\n\r\n// function hasClass(target, key) {\r\n//   return Array.from(target.classList).includes(key);\r\n// }\r\n// // TODO 增加顶部相关按钮\r\nexport default {\r\n  components: {},\r\n  props: {\r\n    tableList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    formProps: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      schema: {},\r\n      uiSchema: {},\r\n      tableData: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    document\r\n      .querySelector('.tableCardContainer')\r\n      .addEventListener('click', (e) => {\r\n        this.bindFindComponent(e);\r\n      });\r\n  },\r\n  watch: {\r\n    tableList: {\r\n      deep: true,\r\n      handler() {\r\n        this.initSchema();\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    clear() {\r\n      this.setActiveComponent({});\r\n    },\r\n    bindFindComponent(event) {\r\n      const thNode = event.path.find(item => item.nodeName === 'TH');\r\n      if (thNode) {\r\n        const title = thNode.querySelector('.vxe-cell--title').innerText;\r\n\r\n        const findObject = this.tableList.find(item => item.title === title);\r\n        if (findObject) {\r\n          this.setActiveComponent(findObject);\r\n        }\r\n      }\r\n    },\r\n    setActiveComponent(selectItem) {\r\n      const array = Array.from(\r\n        document.querySelectorAll('.tableCardContainer th'),\r\n      );\r\n      const findObj = array.find(item => item.innerText === selectItem.title);\r\n      const alreadyItem = document.querySelector(\r\n        '.tableCardContainer th.selected',\r\n      );\r\n      if (alreadyItem) {\r\n        alreadyItem.classList.remove('selected');\r\n      }\r\n      if (findObj) {\r\n        findObj.classList.add('selected');\r\n      } else if (array.length) {\r\n        array[array.length - 1].classList.add('selected');\r\n      }\r\n      this.$emit('setActiveComponent', selectItem, 'tableColumn');\r\n    },\r\n    initSchema() {\r\n      const properties = {};\r\n      const uiSchema = {};\r\n      // const model = {};\r\n      this.tableList.forEach((item) => {\r\n        //            key: '',\r\n        //   title: '',\r\n        //   type: 'string',\r\n        const { key, title, type } = item;\r\n\r\n        properties[key] = {\r\n          title,\r\n          type,\r\n        };\r\n        uiSchema[key] = {\r\n          'ui:options': {},\r\n        };\r\n        const optionKeys = Object.keys(item).filter(pKey => pKey.includes('ui:options.'));\r\n\r\n        optionKeys.forEach((oKey) => {\r\n          uiSchema[key]['ui:options'][oKey.split('ui:options.')[1]] = item[oKey] || '';\r\n        });\r\n        // if (key.includes('ui:options.')) {\r\n        //   uiSchema[key]['ui:options'][key.split('ui:options.')[0]] = item[key] || '';\r\n        // }\r\n\r\n        // properties[key].lcComponentName = item.lcComponentName;\r\n      });\r\n      this.schema = {\r\n        properties,\r\n      };\r\n      this.uiSchema = uiSchema;\r\n    },\r\n    getTableSchemaInfo() {\r\n      return {\r\n        tableSchema: this.schema,\r\n        tableUiSchema: this.uiSchema,\r\n      };\r\n    },\r\n    renderProTable() {\r\n      const { schema, uiSchema, tableData } = this;\r\n      return (\r\n        <el-pro-table\r\n          schema={schema}\r\n          uiSchema={uiSchema}\r\n          data={tableData}\r\n          isShowColumnSetting={false}\r\n        ></el-pro-table>\r\n      );\r\n    },\r\n    // renderAddDialog() {\r\n    //   const { detailData } = this;\r\n    //   return (\r\n    //     <TableColumnDialog\r\n    //       visible={this.visible}\r\n    //       {...{\r\n    //         on: {\r\n    //           'update:visible': (val) => {\r\n    //             this.visible = val;\r\n    //           },\r\n    //         },\r\n    //       }}\r\n    //       props={{ model: detailData }}\r\n    //     />\r\n    //   );\r\n    // },\r\n    // renderAddBtn() {\r\n    //   const self = this;\r\n    //   const newOne = () => {\r\n    //     self.detailData = cloneDeep(tableColumnProps);\r\n    //     self.visible = true;\r\n    //   };\r\n    //   return (\r\n    //     <el-button type=\"primary\" onClick={newOne}>\r\n    //       新建表格字段\r\n    //     </el-button>\r\n    //   );\r\n    // },\r\n  },\r\n  render() {\r\n    //   :label-mode=\"labelMode\"\r\n    //     multiple-selection\r\n    //     :get-row-button=\"getRowButton\"\r\n    //     :schema=\"schema\"\r\n    //     :ui-schema=\"uiSchema\"\r\n    //     data=\"data\"\r\n    //     row-key=\"id\"\r\n    //     @row-button-click=\"onRowButtonClick\"\r\n    //     @selection-change=\"onSelectionChange\"\r\n\r\n    return <div class=\"tableCardContainer\">{this.renderProTable()}</div>;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.tableCardContainer {\r\n  margin: 10px 20px;\r\n  /deep/ th.selected {\r\n    background: #fcf3ff;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableCard.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"sortDeleteFormItemDialog\",attrs:{\"width\":\"60%\",\"title\":\"排序&删除\",\"visible\":_vm.innerVisible},on:{\"update:visible\":function($event){_vm.innerVisible=$event}}},[_c('div',{staticClass:\"formArea\"},[_c('div',{staticClass:\"formItem\"},[_c('p',[_vm._v(\"普通搜索\")]),_c('draggable',{staticClass:\"formDraggable\",attrs:{\"list\":_vm.normalList,\"animation\":340,\"group\":\"componentsGroup\"},on:{\"end\":_vm.onEnd}},_vm._l((_vm.normalList),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('span',[_vm._v(_vm._s(item.schema.title)+\" —— \"+_vm._s(item.key))]),_c('i',{staticClass:\"el-icon-delete deleteItem\",on:{\"click\":function($event){return _vm.deleteItem(_vm.normalList,index)}}})])}),0)],1),_c('div',{staticClass:\"formItem\"},[_c('p',[_vm._v(\"高级搜索\")]),_c('draggable',{staticClass:\"formDraggable\",attrs:{\"list\":_vm.advanceList,\"animation\":340,\"group\":\"componentsGroup\"}},_vm._l((_vm.advanceList),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('span',[_vm._v(_vm._s(item.schema.title)+\" —— \"+_vm._s(item.key))]),_c('i',{staticClass:\"el-icon-delete deleteItem\",on:{\"click\":function($event){return _vm.deleteItem(_vm.advanceList,index)}}})])}),0)],1)]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button-group',{staticClass:\"dialog-bt-group\"},[_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){_vm.innerVisible = false}}},[_vm._v(\"关闭\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n  <el-dialog class=\"sortDeleteFormItemDialog\"\r\n    width=\"60%\"\r\n    title=\"排序&删除\"\r\n    :visible.sync=\"innerVisible\">\r\n\r\n    <div class=\"formArea\">\r\n      <div class=\"formItem\">\r\n        <p>普通搜索</p>\r\n        <draggable class=\"formDraggable\"\r\n          :list=\"normalList\"\r\n          :animation=\"340\"\r\n          group=\"componentsGroup\"\r\n          @end=\"onEnd\">\r\n          <div class=\"item\"\r\n            v-for=\"(item,index) in normalList\"\r\n            :key=\"index\">\r\n            <span>{{item.schema.title}} —— {{item.key}}</span>\r\n            <i class=\"el-icon-delete deleteItem\"\r\n              @click=\"deleteItem(normalList,index)\"></i>\r\n          </div>\r\n        </draggable>\r\n\r\n      </div>\r\n      <div class=\"formItem\">\r\n        <p>高级搜索</p>\r\n        <draggable class=\"formDraggable\"\r\n          :list=\"advanceList\"\r\n          :animation=\"340\"\r\n          group=\"componentsGroup\">\r\n          <div class=\"item\"\r\n            v-for=\"(item,index) in advanceList\"\r\n            :key=\"index\">\r\n            <span>{{item.schema.title}} —— {{item.key}}</span>\r\n            <i class=\"el-icon-delete deleteItem\"\r\n              @click=\"deleteItem(advanceList,index)\"></i>\r\n          </div>\r\n        </draggable>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div slot=\"footer\">\r\n      <el-button-group class=\"dialog-bt-group\">\r\n        <el-button type=\"info\"\r\n          @click=\"innerVisible = false\">关闭</el-button>\r\n      </el-button-group>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport draggable from 'vuedraggable';\r\n\r\nexport default {\r\n  components: { draggable },\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    normalList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    advanceList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    innerVisible: {\r\n      get() {\r\n        return this.visible;\r\n      },\r\n      set(val) {\r\n        this.$emit('update:visible', val);\r\n      },\r\n    },\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    deleteItem(list, index) {\r\n      list.splice(index, 1);\r\n      this.$emit('delete');\r\n    },\r\n    onEnd() {\r\n      this.$emit('draggerEnd');\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style  scoped lang=\"scss\">\r\n.sortDeleteFormItemDialog {\r\n  .formArea {\r\n    display: flex;\r\n    .formItem {\r\n      flex: 1;\r\n      p{\r\n        font-size: 16px;\r\n      }\r\n    }\r\n  }\r\n  .item {\r\n    padding: 10px;\r\n    margin: 10px;\r\n    border: 1px solid #efefef;\r\n    background-color: #fcf3ff;\r\n    cursor: move;\r\n    border-radius: 3px;\r\n    font-size: 14px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .deleteItem {\r\n      border-radius: 50%;\r\n      border: 1px solid #f44336;\r\n      color: #f44336;\r\n      font-size: 12px;\r\n      width: 16px;\r\n      height: 16px;\r\n      text-align: center;\r\n      line-height: 15px;\r\n      padding-left: 1px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .emptyInfo {\r\n    text-align: center;\r\n    font-size: 18px;\r\n    color: #ccb1ea;\r\n    letter-spacing: 4px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortDeleteFormItemDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortDeleteFormItemDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SortDeleteFormItemDialog.vue?vue&type=template&id=11e02394&scoped=true&\"\nimport script from \"./SortDeleteFormItemDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./SortDeleteFormItemDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SortDeleteFormItemDialog.vue?vue&type=style&index=0&id=11e02394&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11e02394\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"sortDeleteTableColumnDialog\",attrs:{\"width\":\"60%\",\"title\":\"排序&删除\",\"visible\":_vm.innerVisible},on:{\"update:visible\":function($event){_vm.innerVisible=$event}}},[_c('draggable',{staticClass:\"formDraggable\",attrs:{\"list\":_vm.list,\"animation\":340,\"group\":\"componentsGroup\"}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('span',[_vm._v(_vm._s(item.title)+\" —— \"+_vm._s(item.key))]),_c('i',{staticClass:\"el-icon-delete deleteItem\",on:{\"click\":function($event){return _vm.deleteItem(index)}}})])}),0),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button-group',{staticClass:\"dialog-bt-group\"},[_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){_vm.innerVisible = false}}},[_vm._v(\"关闭\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n  <el-dialog class=\"sortDeleteTableColumnDialog\"\r\n    width=\"60%\"\r\n    title=\"排序&删除\"\r\n    :visible.sync=\"innerVisible\">\r\n\r\n    <draggable class=\"formDraggable\"\r\n      :list=\"list\"\r\n      :animation=\"340\"\r\n      group=\"componentsGroup\">\r\n      <div class=\"item\"\r\n        v-for=\"(item,index) in list\"\r\n        :key=\"index\">\r\n        <span>{{item.title}} —— {{item.key}}</span>\r\n        <i class=\"el-icon-delete deleteItem\"\r\n          @click=\"deleteItem(index)\"></i>\r\n      </div>\r\n    </draggable>\r\n\r\n    <div slot=\"footer\">\r\n      <el-button-group class=\"dialog-bt-group\">\r\n        <el-button type=\"info\"\r\n          @click=\"innerVisible = false\">关闭</el-button>\r\n      </el-button-group>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport draggable from 'vuedraggable';\r\n\r\nexport default {\r\n  components: { draggable },\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    list: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    innerVisible: {\r\n      get() {\r\n        return this.visible;\r\n      },\r\n      set(val) {\r\n        this.$emit('update:visible', val);\r\n      },\r\n    },\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    deleteItem(index) {\r\n      this.list.splice(index, 1);\r\n      this.$emit('delete');\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style  scoped lang=\"scss\">\r\n.sortDeleteTableColumnDialog {\r\n  .item {\r\n    padding: 10px;\r\n    margin: 10px;\r\n    border: 1px solid #efefef;\r\n    background-color: #fcf3ff;\r\n    cursor: move;\r\n    border-radius: 3px;\r\n    font-size: 14px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .deleteItem {\r\n      border-radius: 50%;\r\n      border: 1px solid #f44336;\r\n      color: #f44336;\r\n      font-size: 12px;\r\n      width: 16px;\r\n      height: 16px;\r\n      text-align: center;\r\n      line-height: 15px;\r\n      padding-left: 1px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .emptyInfo {\r\n    text-align: center;\r\n    font-size: 18px;\r\n    color: #ccb1ea;\r\n    letter-spacing: 4px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortDeleteTableColumnDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortDeleteTableColumnDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SortDeleteTableColumnDialog.vue?vue&type=template&id=5302488b&scoped=true&\"\nimport script from \"./SortDeleteTableColumnDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./SortDeleteTableColumnDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SortDeleteTableColumnDialog.vue?vue&type=style&index=0&id=5302488b&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5302488b\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"mainContentContainer\">\r\n    <div class=\"topArea\">\r\n      <div class=\"leftArea\">\r\n        <el-button type=\"text\"\r\n          icon=\"el-icon-notebook-2\"\r\n          @click=\"$router.push('/')\">前往表单设计器</el-button>\r\n      </div>\r\n      <div class=\"rightArea\">\r\n\r\n        <el-dropdown @command=\"sortDeleteCommand\">\r\n          <el-button type=\"text\"\r\n            icon=\"el-icon-s-operation\"\r\n            class=\"commonBtn\">排序&删除</el-button>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"formItem\">表单</el-dropdown-item>\r\n            <el-dropdown-item command=\"tableColumn\">表格</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n\r\n        <el-dropdown @command=\"upDownCommand\">\r\n          <el-button type=\"text\"\r\n            icon=\"el-icon-sort\"\r\n            class=\"commonBtn\">上传/下载Vue文件</el-button>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"uplaod\">上传Vue文件</el-dropdown-item>\r\n            <el-dropdown-item command=\"download\">下载Vue文件</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n\r\n        <el-dropdown @command=\"copyCommand\">\r\n          <el-button type=\"text\"\r\n            icon=\"el-icon-document-copy\"\r\n            class=\"commonBtn\">复制</el-button>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"all\">复制完整代码</el-dropdown-item>\r\n            <el-dropdown-item command=\"form\">复制表单Json代码</el-dropdown-item>\r\n            <el-dropdown-item command=\"table\">复制表格Json代码</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n\r\n        <el-dropdown @command=\"clearCommand\">\r\n          <el-button type=\"text\"\r\n            icon=\"el-icon-delete\"\r\n            class=\"commonBtn\">清空</el-button>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"all\">清空所有</el-dropdown-item>\r\n            <el-dropdown-item command=\"normal\">清空普通搜索</el-dropdown-item>\r\n            <el-dropdown-item command=\"advance\">清空高级搜索</el-dropdown-item>\r\n            <el-dropdown-item command=\"table\">清空表格</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <el-scrollbar class=\"scrollBar\"\r\n      :vertical=\"true\">\r\n\r\n      <el-card shadow=\"never\"\r\n        class=\"drawingBoard\"\r\n        :header=\"'搜索条件'\">\r\n        <!-- :before-submit=\"beforeSubmit\"\r\n                   :after-submit=\"afterSubmit\"\r\n                   @change=\"handleChange\"\r\n                   @clear=\"handleClear\" -->\r\n        <el-query-filter v-model=\"formModel\"\r\n          v-bind=\"formProps\"\r\n          :normal-schema=\"normalSchema\"\r\n          :normal-ui-schema=\"normalUiSchema\"\r\n          :advance-schema=\"advanceSchema\"\r\n          :advance-ui-schema=\"advanceUiSchema\">\r\n        </el-query-filter>\r\n      </el-card>\r\n\r\n      <table-card ref=\"tableCard\"\r\n        :tableList=\"tableList\"\r\n        @setActiveComponent=\"setActiveComponent\" />\r\n\r\n    </el-scrollbar>\r\n\r\n    <input id=\"copyNode\"\r\n      type=\"hidden\">\r\n    <input type=\"file\"\r\n      accept=\".vue\"\r\n      id=\"uploader\"\r\n      @change=\"changeFile\"\r\n      style=\"display:none;\" />\r\n\r\n    <sort-delete-form-item-dialog :visible.sync=\"formItemVisible\"\r\n      :normalList=\"normalList\"\r\n      :advanceList=\"advanceList\"\r\n      @delete=\"setDefaultComponent\"\r\n      @draggerEnd=\"setDefaultComponent\" />\r\n\r\n    <sort-delete-table-column-dialog :visible.sync=\"tableColumnVisible\"\r\n      :list=\"tableList\"\r\n      @delete=\"setDefaultComponentByTableColumn\" />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ClipboardJS from 'clipboard';\r\nimport { saveAs } from 'file-saver';\r\nimport TableCard from './TableCard.vue';\r\n// import draggable from 'vuedraggable';\r\nimport SortDeleteFormItemDialog from './SortDeleteFormItemDialog.vue';\r\nimport SortDeleteTableColumnDialog from './SortDeleteTableColumnDialog.vue';\r\n\r\nimport {\r\n  generatVueCode,\r\n  getFormJson,\r\n  getTableJson,\r\n  importVueFile,\r\n} from '@/utils/tableGenerator';\r\nimport { saveIdGlobal } from '@/utils/db';\r\n\r\nfunction hasClass(target, key) {\r\n  return Array.from(target.classList).includes(key);\r\n}\r\n// TODO 增加顶部相关按钮\r\nexport default {\r\n  components: {\r\n    TableCard,\r\n    SortDeleteFormItemDialog,\r\n    SortDeleteTableColumnDialog,\r\n  },\r\n  inject: {\r\n    generatorType: {\r\n      default: 'form',\r\n    },\r\n  },\r\n  props: {\r\n    formProps: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      formModel: {},\r\n      normalFormModel: {},\r\n      normalSchema: {},\r\n      normalUiSchema: {},\r\n      advanceFormModel: {},\r\n      advanceSchema: {},\r\n      advanceUiSchema: {},\r\n      tableColumnVisible: false,\r\n      formItemVisible: false,\r\n      copyType: '',\r\n      normalList: [],\r\n      advanceList: [],\r\n      tableList: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    document.querySelector('.drawingBoard').addEventListener('click', (e) => {\r\n      this.bindFindComponent(e);\r\n      // this.bindRomoveComponent(e);\r\n    });\r\n    const clipboard = new ClipboardJS('#copyNode', {\r\n      text: () => {\r\n        const codeStr = this.generateCode(this.copyType);\r\n        this.$notify({\r\n          title: '成功',\r\n          message: '代码已复制到剪切板，可粘贴。',\r\n          type: 'success',\r\n        });\r\n        return codeStr;\r\n      },\r\n    });\r\n    clipboard.on('error', () => {\r\n      this.$message.error('代码复制失败');\r\n    });\r\n  },\r\n  watch: {\r\n    normalList: {\r\n      deep: true,\r\n      handler() {\r\n        this.initNormalSchema();\r\n      },\r\n    },\r\n    advanceList: {\r\n      deep: true,\r\n      handler() {\r\n        this.initAdvanceSchema();\r\n      },\r\n    },\r\n    // 'formProps.inline': {\r\n    //   handler() {\r\n    //     this.initFormModel();\r\n    //     setTimeout(() => {\r\n    //       this.setDefaultComponent();\r\n    //     }, 500);\r\n    //   },\r\n    // },\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    addComponent(item, type) {\r\n      const loading = this.$loading({\r\n        lock: true,\r\n        text: '渲染中...',\r\n        spinner: 'el-icon-loading',\r\n        background: 'rgba(0, 0, 0, 0.7)',\r\n      });\r\n      if (type === 'normal' || type === 'advance') {\r\n        if (type === 'normal') {\r\n          this.normalList.push(item);\r\n        } else if (type === 'advance') {\r\n          this.advanceList.push(item);\r\n        }\r\n\r\n        this.setActiveComponent(item);\r\n        setTimeout(() => {\r\n          this.setActiveComponentClass(item);\r\n          loading.close();\r\n        }, 200);\r\n      } else {\r\n        this.tableList.push(item);\r\n        setTimeout(() => {\r\n          this.$refs.tableCard.setActiveComponent(item);\r\n          loading.close();\r\n        }, 200);\r\n      }\r\n    },\r\n    initNormalSchema() {\r\n      const required = [];\r\n      const properties = {};\r\n      const uiSchema = {};\r\n      const model = {};\r\n      this.normalList.forEach((item) => {\r\n        const { key } = item;\r\n        if (item.required) {\r\n          required.push(key);\r\n        }\r\n\r\n        properties[key] = this.normalSchema[key] || item.schema;\r\n        uiSchema[key] = this.normalUiSchema[key] || item.uiSchema;\r\n        // 处理 uiSchema.ui:options 类型赋值问题\r\n        this.processUiSchemaKey(uiSchema[key]['ui:options']);\r\n\r\n        // TODO 需要判断类型\r\n        if (properties[key].type === 'array') {\r\n          model[key] = this.formModel[key] || [];\r\n        } else {\r\n          model[key] = this.formModel[key] || '';\r\n        }\r\n        properties[key].lcComponentName = item.lcComponentName;\r\n      });\r\n      this.normalFormModel = model;\r\n      this.formModel = Object.assign(\r\n        {},\r\n        this.normalFormModel,\r\n        this.advanceFormModel,\r\n      );\r\n      this.normalSchema = {\r\n        required,\r\n        properties,\r\n      };\r\n      // } else {\r\n      //   this.normalSchema = {\r\n      //      required,\r\n      //     properties,\r\n      //   };\r\n      // }\r\n      this.normalUiSchema = uiSchema;\r\n      this.$nextTick(() => {\r\n        this.appendKeyInfo('normal');\r\n      });\r\n    },\r\n    initAdvanceSchema() {\r\n      const required = [];\r\n      const properties = {};\r\n      const uiSchema = {};\r\n      const model = {};\r\n      this.advanceList.forEach((item) => {\r\n        const { key } = item;\r\n        if (item.required) {\r\n          required.push(key);\r\n        }\r\n\r\n        properties[key] = this.advanceSchema[key] || item.schema;\r\n        uiSchema[key] = this.advanceUiSchema[key] || item.uiSchema;\r\n        // 处理 uiSchema.ui:options 类型赋值问题\r\n        this.processUiSchemaKey(uiSchema[key]['ui:options']);\r\n\r\n        // TODO 需要判断类型\r\n        if (properties[key].type === 'array') {\r\n          model[key] = this.formModel[key] || [];\r\n        } else {\r\n          model[key] = this.formModel[key] || '';\r\n        }\r\n        properties[key].lcComponentName = item.lcComponentName;\r\n      });\r\n\r\n      this.advanceFormModel = model;\r\n      this.formModel = Object.assign(\r\n        {},\r\n        this.normalFormModel,\r\n        this.advanceFormModel,\r\n      );\r\n      this.advanceSchema = {\r\n        required,\r\n        properties,\r\n      };\r\n      this.advanceUiSchema = uiSchema;\r\n      this.$nextTick(() => {\r\n        this.appendKeyInfo('advance');\r\n      });\r\n    },\r\n    // 处理 uiSchema.ui:options 类型赋值问题\r\n    processUiSchemaKey(uiOptions) {\r\n      Object.keys(uiOptions).forEach((key) => {\r\n        if (key.includes('uiSchema.ui:options.')) {\r\n          const targetKey = key.split('.').pop();\r\n          uiOptions[targetKey] = uiOptions[key];\r\n        }\r\n      });\r\n    },\r\n    // 添加默认key属性\r\n    appendKeyInfo(operType) {\r\n      let list = null;\r\n      let fatherClass = '';\r\n      if (operType === 'normal') {\r\n        list = this.normalList;\r\n        fatherClass = 'el-query-filter__normal';\r\n      } else {\r\n        list = this.advanceList;\r\n        fatherClass = 'el-query-filter__advance';\r\n      }\r\n      if (list.length) {\r\n        Array.from(\r\n          document.querySelectorAll(`.${fatherClass} .el-form-item`),\r\n        ).forEach((dom, index) => {\r\n          // if (!dom.innerHTML.includes('deleteOper')) {\r\n          //   dom.innerHTML += '<i class=\"el-icon-delete deleteOper\"><i>';\r\n          // }\r\n          const labelDom = dom.querySelector('label');\r\n          if (labelDom) {\r\n            labelDom.setAttribute('data-key', list[index].key);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    bindFindComponent(event) {\r\n      let key = '';\r\n      const labelNode = event.path.find(item => (item.className ? item.className.includes('el-form-item__label') : false));\r\n      // if (event.target.nodeName.toLowerCase() === 'label') {\r\n      //   key = event.target.getAttribute('for');\r\n      // } else\r\n      if (labelNode) {\r\n        key = labelNode.getAttribute('data-key');\r\n      } else if (\r\n        hasClass(event.target, 'el-col')\r\n        || hasClass(event.target, 'el-form-item')\r\n      ) {\r\n        key = event.target.querySelector('label').getAttribute('data-key');\r\n      }\r\n      if (key) {\r\n        const findObj = this.normalList\r\n          .concat(this.advanceList)\r\n          .find(item => item.key === key);\r\n        if (findObj) {\r\n          this.setActiveComponent(findObj);\r\n          this.setActiveComponentClass(findObj);\r\n        }\r\n      }\r\n    },\r\n    // bindRomoveComponent(event) {\r\n    //   if (hasClass(event.target, 'deleteOper')) {\r\n    //     const key = event.target.parentElement\r\n    //       .querySelector('label')\r\n    //       .getAttribute('data-key');\r\n    //     this.removeComponentByKey(key);\r\n    //   }\r\n    // },\r\n    setActiveComponentClass(selectItem) {\r\n      const array = Array.from(\r\n        document.querySelectorAll('.drawingBoard .el-form-item'),\r\n      );\r\n      const findObj = array.find(item => item.querySelector(`label[data-key=\"${selectItem.key}\"]`));\r\n      const alreadyItem = document.querySelector(\r\n        '.drawingBoard .el-form-item.selected',\r\n      );\r\n      if (alreadyItem) {\r\n        alreadyItem.classList.remove('selected');\r\n      }\r\n      if (findObj) {\r\n        findObj.classList.add('selected');\r\n      } else if (array.length) {\r\n        array[array.length - 1].classList.add('selected');\r\n      }\r\n    },\r\n    setActiveComponent(item, type = 'formItem') {\r\n      this.$emit('setActiveComponent', item, type);\r\n    },\r\n    setDefaultComponent() {\r\n      if (this.normalList.length) {\r\n        this.setActiveComponent(this.normalList[0]);\r\n        this.setActiveComponentClass(this.normalList[0]);\r\n      } else if (this.advanceList.length) {\r\n        this.setActiveComponent(this.advanceList[0]);\r\n        this.setActiveComponentClass(this.advanceList[0]);\r\n      }\r\n    },\r\n    setDefaultComponentByTableColumn() {\r\n      if (this.tableList.length) {\r\n        this.$nextTick(() => {\r\n          this.$refs.tableCard.setActiveComponent(this.tableList[0]);\r\n        });\r\n      }\r\n    },\r\n    clearCommand(name) {\r\n      let msg = '';\r\n      if (name === 'all') {\r\n        msg = '确定要清空所有组件吗？';\r\n      } else if (name === 'normal') {\r\n        msg = '确定要清空普通搜索吗？';\r\n      } else if (name === 'advance') {\r\n        msg = '确定要清空高级搜索吗？';\r\n      } else if (name === 'table') {\r\n        msg = '确定要清空表格吗？';\r\n      }\r\n\r\n      this.$confirm(msg, '提示', { type: 'warning' }).then(() => {\r\n        if (name === 'all') {\r\n          saveIdGlobal(100);\r\n          this.normalList = [];\r\n          this.advanceList = [];\r\n          this.tableList = [];\r\n          this.$refs.tableCard.clear();\r\n          this.setActiveComponent({});\r\n        } else if (name === 'normal') {\r\n          this.normalList = [];\r\n          this.setActiveComponent({});\r\n        } else if (name === 'advance') {\r\n          this.advanceList = [];\r\n          this.setActiveComponent({});\r\n        } else if (name === 'table') {\r\n          this.tableList = [];\r\n          this.$refs.tableCard.clear();\r\n        }\r\n      });\r\n    },\r\n    sortDeleteCommand(name) {\r\n      if (name === 'formItem') {\r\n        this.formItemVisible = true;\r\n      } else {\r\n        this.tableColumnVisible = true;\r\n      }\r\n    },\r\n    generateCode(generateType) {\r\n      const { tableSchema, tableUiSchema } = this.$refs.tableCard.getTableSchemaInfo();\r\n      if (generateType === 'form') {\r\n        return getFormJson(this.normalSchema,\r\n          this.normalUiSchema,\r\n          this.advanceSchema,\r\n          this.advanceUiSchema,\r\n          this.formModel);\r\n      } if (generateType === 'table') {\r\n        return getTableJson(tableSchema, tableUiSchema);\r\n      }\r\n\r\n\r\n      return generatVueCode(\r\n        this.formProps,\r\n        this.normalSchema,\r\n        this.normalUiSchema,\r\n        this.advanceSchema,\r\n        this.advanceUiSchema,\r\n        tableSchema,\r\n        tableUiSchema,\r\n        this.formModel,\r\n      );\r\n    },\r\n    copyCommand(name) {\r\n      this.copyType = name;\r\n      document.getElementById('copyNode').click();\r\n    },\r\n    upDownCommand(name) {\r\n      if (name === 'download') {\r\n        this.downloadCode();\r\n      } else {\r\n        document.getElementById('uploader').click();\r\n      }\r\n    },\r\n    downloadCode() {\r\n      const codeStr = this.generateCode();\r\n      const blob = new Blob([codeStr], { type: 'text/plain;charset=utf-8' });\r\n      saveAs(blob, 'LowCodeForm.vue');\r\n    },\r\n    async changeFile(e) {\r\n      const loading = this.$loading({\r\n        lock: true,\r\n        text: '渲染中...',\r\n        spinner: 'el-icon-loading',\r\n        background: 'rgba(0, 0, 0, 0.7)',\r\n      });\r\n\r\n      const {\r\n        normalList, advanceList, tableList, formProps,\r\n      } = await importVueFile(e.target);\r\n      debugger;\r\n      this.normalList = normalList;\r\n      this.advanceList = advanceList;\r\n      this.tableList = tableList;\r\n      this.$emit('changeFormProps', formProps);\r\n      document.getElementById('uploader').value = '';\r\n      setTimeout(() => {\r\n        this.setDefaultComponent();\r\n        this.setDefaultComponentByTableColumn();\r\n        loading.close();\r\n      }, 200);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.mainContentContainer {\r\n  .topArea {\r\n    border-bottom: 1px solid #e3e3e3;\r\n    display: flex;\r\n    padding: 0 20px;\r\n    justify-content: space-between;\r\n    .leftArea {\r\n    }\r\n\r\n    .rightArea {\r\n      .dangerText {\r\n        color: #f56c6c;\r\n      }\r\n      .commonBtn {\r\n        margin: 0 7px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .scrollBar {\r\n    height: calc(100% - 40px);\r\n    /deep/ .el-scrollbar__wrap {\r\n      overflow-x: hidden;\r\n    }\r\n  }\r\n  .drawingBoard {\r\n    height: 100%;\r\n    margin: 10px 20px;\r\n    overflow-x: hidden;\r\n  }\r\n  .emptyInfo {\r\n    position: absolute;\r\n    top: 46%;\r\n    left: 0;\r\n    right: 0;\r\n    text-align: center;\r\n    font-size: 18px;\r\n    color: #ccb1ea;\r\n    letter-spacing: 4px;\r\n  }\r\n  /deep/ .el-form-item {\r\n    &:hover {\r\n      background: #fcf3ff;\r\n      .deleteOper {\r\n        display: block;\r\n      }\r\n    }\r\n    &.selected {\r\n      background: #fcf3ff;\r\n      .deleteOper {\r\n        display: block;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=5bfec572&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=5bfec572&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bfec572\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"rootContainer\">\n    <left-side @add=\"addComponent\" />\n    <main-content :drawingList=\"drawingList\"\n      ref=\"mainCotent\"\n      :formProps=\"formProps\"\n      @changeFormProps=\"changeFormProps\"\n      @setActiveComponent=\"setActiveComponent\" />\n    <right-side :formProps=\"formProps\"\n      :activeComponent=\"activeComponent\"\n      :tableColumnProps=\"tableColumnProps\" />\n  </div>\n</template>\n<script>\nimport LeftSide from '@/components/formGenerator/LeftSide/Index.vue';\nimport RightSide from '@/components/formGenerator/RightSide/Index.vue';\nimport MainContent from '@/components/tableGenerator/MainContent/Index.vue';\nimport { tableFormProps } from '@/components/formGenerator/components';\n\nexport default {\n  components: {\n    LeftSide,\n    RightSide,\n    MainContent,\n  },\n  provide: {\n    generatorType: 'table',\n  },\n  data() {\n    return {\n      drawingList: [],\n      activeComponent: {},\n      tableColumnProps: {},\n      formProps: tableFormProps,\n    };\n  },\n  mounted() {},\n  methods: {\n    addComponent(item, type) {\n      this.$refs.mainCotent.addComponent(item, type);\n    },\n    setActiveComponent(item, type) {\n      if (type === 'formItem') {\n        this.activeComponent = item;\n      } else if (type === 'tableColumn') {\n        this.tableColumnProps = item;\n      }\n    },\n    changeFormProps(props) {\n      this.formProps = props;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.rootContainer {\n  display: flex;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  .mainContentContainer {\n    flex: 1;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableGenerator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableGenerator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableGenerator.vue?vue&type=template&id=355de46e&scoped=true&\"\nimport script from \"./TableGenerator.vue?vue&type=script&lang=js&\"\nexport * from \"./TableGenerator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TableGenerator.vue?vue&type=style&index=0&id=355de46e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"355de46e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableGenerator.vue?vue&type=style&index=0&id=355de46e&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortDeleteFormItemDialog.vue?vue&type=style&index=0&id=11e02394&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableCard.vue?vue&type=style&index=0&id=556e86a9&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortDeleteTableColumnDialog.vue?vue&type=style&index=0&id=5302488b&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=5bfec572&scoped=true&lang=scss&\"","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import JsBeautify from 'js-beautify';\r\nimport get from 'lodash/get';\r\nimport {\r\n  inputComponents, selectComponents, formFormProps, tableColumnProps,\r\n} from '@/components/formGenerator/components';\r\n\r\nfunction getStyle() {\r\n  return `\r\n<style scoped lang=\"scss\">\r\n</style>`;\r\n}\r\n\r\nfunction getFormSchemaFromData(properties, formUiSchema, requiredList) {\r\n  const list = [];\r\n\r\n  // 转换原始组件为map\r\n\r\n  const componentsObject = inputComponents.concat(selectComponents).reduce((res, { lcComponentName, schema, uiSchema }) => {\r\n    res[lcComponentName] = { schema, uiSchema };\r\n    return res;\r\n  }, {});\r\n\r\n  Object.keys(properties).forEach((key, index) => {\r\n    let required = false;\r\n    const item = properties[key];\r\n    const { lcComponentName } = item;\r\n    if (requiredList.includes(key)) {\r\n      required = true;\r\n    }\r\n    const uiSchema = Object.assign({}, componentsObject[lcComponentName].uiSchema, formUiSchema[key]);\r\n    // 处理默认导出时与本地key相冲突问题\r\n    let newKey = key;\r\n    if (key.includes('field')) {\r\n      newKey = key + index;\r\n    }\r\n\r\n    list.push({\r\n      required,\r\n      key: newKey,\r\n      lcComponentName,\r\n      schema: Object.assign({}, componentsObject[lcComponentName].schema, item),\r\n      uiSchema,\r\n    });\r\n  });\r\n  return list;\r\n}\r\n\r\nfunction getTableSchemaFromData(properties, formUiSchema) {\r\n  const list = [];\r\n\r\n  // 转换原始组件为map\r\n\r\n  // const componentsObject = inputComponents.concat(selectComponents).reduce((res, { lcComponentName, schema, uiSchema }) => {\r\n  //   res[lcComponentName] = { schema, uiSchema };\r\n  //   return res;\r\n  // }, {});\r\n\r\n  Object.keys(properties).forEach((key, index) => {\r\n    // let required = false;\r\n    const item = properties[key];\r\n    Object.keys(formUiSchema[key]['ui:options']).forEach((oKey) => {\r\n      item[`ui:options.${oKey}`] = formUiSchema[key]['ui:options'][oKey];\r\n    });\r\n    // 处理默认导出时与本地key相冲突问题\r\n    let newKey = key;\r\n    if (key.includes('field')) {\r\n      newKey = key + index;\r\n    }\r\n    item.key = newKey;\r\n\r\n\r\n    // const { lcComponentName } = item;\r\n    // if (requiredList.includes(key)) {\r\n    //   required = true;\r\n    // }\r\n    // const uiSchema = Object.assign({}, componentsObject[lcComponentName].uiSchema, formUiSchema[key]);\r\n    // // 处理默认导出时与本地key相冲突问题\r\n    // let newKey = key;\r\n    // if (key.includes('field')) {\r\n    //   newKey = key + index;\r\n    // }\r\n\r\n    list.push(Object.assign({}, tableColumnProps, item));\r\n  });\r\n  return list;\r\n}\r\n\r\n// 通过文件导入Vue文件，并获取组件List\r\nfunction getScriptByVueFile(codeStr) {\r\n  let normalList = [];\r\n  let advanceList = [];\r\n  let tableList = [];\r\n  // eslint-disable-next-line no-useless-escape\r\n  const p = /\\<script\\>.*?\\<\\/script\\>/g;\r\n  codeStr = codeStr.replace(/\\n/g, '').replace(/ /g, '');\r\n  const scriptStr = codeStr.match(p);\r\n  if (scriptStr) {\r\n    const jsCodeStr = scriptStr[0].replace('<script>exportdefault', '').replace('</script>', '');\r\n    // eslint-disable-next-line no-eval\r\n    const jsCode = eval(`(${jsCodeStr})`);\r\n    const data = jsCode.data();\r\n\r\n    normalList = getFormSchemaFromData(\r\n      get(data, 'normalSchema.properties', {}),\r\n      get(data, 'normalUiSchema', {}),\r\n      get(data, 'normalSchema.required', []),\r\n    );\r\n    advanceList = getFormSchemaFromData(\r\n      get(data, 'advanceSchema.properties', {}),\r\n      get(data, 'advanceUiSchema', {}),\r\n      get(data, 'advanceSchema.required', []),\r\n    );\r\n    tableList = getTableSchemaFromData(\r\n      get(data, 'tableSchema.properties', {}),\r\n      get(data, 'tableUiSchema', {}),\r\n    );\r\n  }\r\n  return {\r\n    normalList,\r\n    advanceList,\r\n    tableList,\r\n  };\r\n}\r\n// 获取template 中的jsomForm属性信息\r\nfunction getDomProps(codeStr) {\r\n  codeStr = codeStr.replace(/\\n/g, '');\r\n  // console.log()\r\n  // eslint-disable-next-line no-useless-escape\r\n  const formStr = codeStr.match(/\\<el-query-filter .*?\\/\\>/g);\r\n  const list = formStr[0].replace('/>', '').split(' :');\r\n  list.shift();\r\n\r\n  const keys = Object.keys(formFormProps);\r\n\r\n  list.forEach((item) => {\r\n    item.trim();\r\n    console.log(item);\r\n    const kv = item.split('=');\r\n    const key = kv[0];\r\n    // eslint-disable-next-line no-useless-escape\r\n    const value = kv[1].replace(/\\\"/g, '').replace(/\\'/g, '').replace(/ /g, '');\r\n    if (keys.includes(key)) {\r\n      console.log(key, value);\r\n      if (['true', 'false'].includes(value)) {\r\n        formFormProps[key] = value === 'true';\r\n      } else {\r\n        formFormProps[key] = value;\r\n      }\r\n    }\r\n    //\r\n  });\r\n  return formFormProps;\r\n}\r\n\r\nfunction formatUiSchema(formUiSchema) {\r\n  // 格式化 RegExp Function类型的数据\r\n  let uiSchema = JSON.stringify(formUiSchema, (key, value) => {\r\n    if (value instanceof RegExp) {\r\n      return value.toString();\r\n    } if (value instanceof Function) {\r\n      return value.toString();\r\n    }\r\n    return value;\r\n  });\r\n\r\n\r\n  // 二次格式化化 RegExp类型数据\r\n  // eslint-disable-next-line no-useless-escape\r\n  uiSchema = uiSchema.replace(/\\\"pattern\\\"\\:\\\".*?\\\"/g, (source) => {\r\n    let value = source.split(':\"')[1];\r\n    value = value.substring(0, value.length - 1);\r\n    if (value) {\r\n      value = value.replace(/\\\\\\\\/g, '\\\\');\r\n      // eslint-disable-next-line no-eval\r\n      return `\"pattern\":${value}`;\r\n    }\r\n    return '\"pattern\":\"\"';\r\n  });\r\n  // 二次格式化化 Function类型数据\r\n  // eslint-disable-next-line no-useless-escape\r\n  uiSchema = uiSchema.replace(/function .*?\\(\\)/g, '()=>').replace(/\\\\n/g, '')\r\n    .replace(/_this/g, 'this')\r\n    // eslint-disable-next-line no-useless-escape\r\n    .replace(/\\\"\\(\\)\\=\\>.*?\\}\\\"/g, source => source.substring(1, source.length - 1))\r\n    // eslint-disable-next-line no-useless-escape\r\n    .replace(/\\\"function.*?\\}\\\"/g, (sources) => {\r\n      const res = sources.replace(/\"function\\(\\)/g, '()=>');\r\n      return res.substring(0, res.length - 1);// .replace('b.', 'this.');\r\n    })\r\n    // eslint-disable-next-line no-useless-escape\r\n    .replace(/\\\\\\\"/g, '\"');\r\n  return uiSchema;\r\n}\r\n\r\nexport const getFormJson = (normalSchema,\r\n  normalUiSchema,\r\n  advanceSchema,\r\n  advanceUiSchema,\r\n  formModel) => JsBeautify.js(`\r\n{\r\n    normalSchema:${JSON.stringify(normalSchema)},\r\n    normalUiSchema:${formatUiSchema(normalUiSchema)},\r\n    advanceSchema:${JSON.stringify(advanceSchema)},\r\n    advanceUiSchema:${formatUiSchema(advanceUiSchema)},\r\n    formModel:${JSON.stringify(formModel)}\r\n}\r\n`);\r\n\r\nexport const getTableJson = (schema,\r\n  uiSchema) => JsBeautify.js(`\r\n{\r\n    tableSchema:${JSON.stringify(schema)},\r\n    tableUiSchema:${formatUiSchema(uiSchema)},\r\n    tableList:[],\r\n}\r\n`);\r\n\r\nfunction getScript(normalSchema,\r\n  normalUiSchema,\r\n  advanceSchema,\r\n  advanceUiSchema,\r\n  tableSchema,\r\n  tableUiSchema,\r\n  formModel) {\r\n  const jsonStr = getFormJson(normalSchema,\r\n    normalUiSchema,\r\n    advanceSchema,\r\n    advanceUiSchema,\r\n    formModel);\r\n\r\n  const tableStr = getTableJson(tableSchema,\r\n    tableUiSchema);\r\n\r\n  return `\r\n<script>\r\nexport default {\r\n    components: {},\r\n    props: [],\r\n    data () {\r\n        return {\r\n          ${jsonStr.substring(1, jsonStr.length - 1)},\r\n          ${tableStr.substring(1, tableStr.length - 1)}\r\n      }\r\n    },\r\n    computed: {},\r\n    watch: {},\r\n    mounted () {},\r\n    methods: {\r\n      afterSubmit(){\r\n        console.log('afterSubmit');\r\n      }\r\n    }\r\n}\r\n</script>\r\n`;\r\n}\r\n// 获取基础模板代码\r\nfunction getTemplate(props) {\r\n  const propList = [];\r\n  Object.keys(props).forEach((key) => {\r\n    if (!(props[key] === '' || props[key] === undefined)) {\r\n      if (typeof props[key] === 'string') {\r\n        propList.push(`:${key}=\"'${props[key]}'\"`);\r\n      } else {\r\n        propList.push(`:${key}=\"${props[key]}\"`);\r\n      }\r\n    }\r\n  });\r\n\r\n  return `\r\n<template>\r\n   <!-- generator by setaria-low-code TableGenerator v1.0 -->\r\n    <div>\r\n      <el-card shadow=\"never\"\r\n        :header=\"'搜索条件'\">\r\n        <el-query-filter v-model=\"formModel\"\r\n          v-bind=\"formProps\"\r\n          :normal-schema=\"normalSchema\"\r\n          :normal-ui-schema=\"normalUiSchema\"\r\n          :advance-schema=\"advanceSchema\"\r\n          :advance-ui-schema=\"advanceUiSchema\"\r\n          :after-submit=\"afterSubmit\"\r\n          ${propList.join('\\n          ')}\r\n          />\r\n      </el-card>\r\n\r\n      <el-pro-table\r\n        :schema=\"tableSchema\"\r\n        :uiSchema=\"tableUiSchema\"\r\n        :data=\"tableList\"\r\n      ></el-pro-table>\r\n\r\n    </div>\r\n</template>\r\n    `;\r\n}\r\n// 生成Vue文件代码\r\nexport const generatVueCode = (props,\r\n  normalSchema,\r\n  normalUiSchema,\r\n  advanceSchema,\r\n  advanceUiSchema,\r\n  tableSchema,\r\n  tableUiSchema,\r\n  formModel) => {\r\n  const code = getTemplate(props) + JsBeautify.html(getScript(normalSchema,\r\n    normalUiSchema,\r\n    advanceSchema,\r\n    advanceUiSchema,\r\n    tableSchema,\r\n    tableUiSchema,\r\n    formModel)) + getStyle();\r\n\r\n  return code;\r\n};\r\n\r\n// 导入Vue代码\r\nexport const importVueFile = targer => new Promise((resolve, reject) => {\r\n  const reader = new FileReader();\r\n  if (targer.files) {\r\n    reader.readAsText(targer.files[0], 'UTF-8');\r\n    reader.onload = (e) => {\r\n      const codeStr = e.target.result;\r\n      resolve({\r\n        ...getScriptByVueFile(codeStr),\r\n        formProps: getDomProps(codeStr),\r\n      });\r\n    };\r\n  } else {\r\n    reject(new Error('上传Vue文件错误'));\r\n  }\r\n});\r\n\r\n\r\nexport default {\r\n  generatVueCode,\r\n};\r\n\r\n\r\n// { /*\r\n// v-bind=\"formFormProps\"\r\n\r\n\r\n//  */ }\r\n"],"sourceRoot":""}